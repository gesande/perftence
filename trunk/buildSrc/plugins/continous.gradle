import static org.gradle.logging.StyledTextOutput.Style

import org.gradle.logging.StyledTextOutput
import org.gradle.logging.StyledTextOutputFactory


apply from: "$buildPlugins/java.gradle"
apply from: "$buildPlugins/findbugs.gradle"
apply from: "$buildPlugins/jdepend.gradle"
apply from: "$buildPlugins/pmd.gradle"

task continous(dependsOn: [
    test,
    findbugsMain,
    pmdMain,
    jdependMain
]) {
    group = 'Verification'
    description = 'Continous build task including junit tests/pmd/findbugs/jdepend'
    doLast {
        def outputFactory = services.get(StyledTextOutputFactory).create("continous")
        outputFactory.withStyle(Style.Info).println("Continous build for $project passed. Good work!")
    }
}

